(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(t,e,n){t.exports={"job-select-wrapper":"JobSelect-job-select-wrapper-1BgMs",jobSelectWrapper:"JobSelect-job-select-wrapper-1BgMs","job-select":"JobSelect-job-select-3tWCV",jobSelect:"JobSelect-job-select-3tWCV"}},188:function(t,e,n){t.exports={slot:"Slot-slot-303iz"}},189:function(t,e,n){t.exports=n(439)},229:function(t,e){},231:function(t,e){},263:function(t,e){},264:function(t,e){},333:function(t,e){},439:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(79),o=n.n(c),i=n(34),s=n(80),l=n(81),u=n(64),p=function(){for(var t=[],e=16;e>=1;e-=1)t.push({id:e,action:{}});return t},b="ADD_ACTION_TO_SLOT",f="REMOVE_ACTION_FROM_SLOT",m="STORE_ACTION",d=n(35),h=n.n(d),v=n(62),j=n(21),y=n(22),O=n(24),g=n(23),E=n(25),w=n(82),A=n.n(w),x=function(t,e){return[].concat.apply([],t.map(function(n,a){return a%e?[]:[t.slice(a,a+e)]}))},N=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(n,a){if(!n.hasOwnProperty(t)||!a.hasOwnProperty(t))return 0;var r="string"===typeof n[t]?n[t].toUpperCase():n[t],c="string"===typeof a[t]?a[t].toUpperCase():a[t],o=0;return r>c?o=1:r<c&&(o=-1),"desc"===e?-1*o:o}};var S=n(65),k=n.n(S);var I=function(t){function e(t){var n;return Object(j.a)(this,e),(n=Object(O.a)(this,Object(g.a)(e).call(this,t))).api=new A.a,n.state={details:""},n}return Object(E.a)(e,t),Object(y.a)(e,[{key:"getActionDetails",value:function(){var t=Object(v.a)(h.a.mark(function t(){var e,n;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.action,t.next=3,this.api.data.get("Action",e.ID);case 3:return n=t.sent,t.next=6,n;case 6:n=t.sent,this.setState({details:n});case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props.action,n=this.state.details;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:k.a.action,draggable:!0,onDragStart:function(){var n;n=e,t.props.storeAction({selectedAction:n})},onMouseOver:function(){t.getActionDetails()}},r.a.createElement("img",{src:e.Icon,alt:""})),r.a.createElement("div",{className:k.a.tooltip},r.a.createElement("h4",{className:k.a.title},e.Name),r.a.createElement("p",{className:k.a.description,dangerouslySetInnerHTML:n?{__html:n.Description.trim()}:{__html:""}})))}}]),e}(a.Component),D=Object(i.b)(null,function(t){return{storeAction:function(e){return t({type:m,payload:e})}}})(I),C=n(188),T=n.n(C);var J=function(t){function e(){return Object(j.a)(this,e),Object(O.a)(this,Object(g.a)(e).apply(this,arguments))}return Object(E.a)(e,t),Object(y.a)(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.xbar,a=e.id,c=e.action,o=e.selectedAction,i=function(t){return t.currentTarget.setAttribute("data-state","inactive")};return r.a.createElement("div",{id:a,className:"".concat(T.a.slot),onDrop:function(e){return function(e){e.preventDefault(),t.props.addActionToSlot({event:e,action:o,xbar:n}),i(e)}(e)},onDragOver:function(t){return function(t){t.preventDefault(),t.currentTarget.setAttribute("data-state","active")}(t)},onDragLeave:function(t){return i(t)},role:"button"},c.Name&&r.a.createElement(D,{action:c}))}}]),e}(a.PureComponent),X=Object(i.b)(function(t){return{selectedAction:t.selectedAction}},function(t){return{addActionToSlot:function(e){return t({type:b,payload:e})}}})(J);J.defaultProps={action:{},selectedAction:{}};var _=n(83),F=n.n(_),V=function(t){function e(){return Object(j.a)(this,e),Object(O.a)(this,Object(g.a)(e).apply(this,arguments))}return Object(E.a)(e,t),Object(y.a)(e,[{key:"render",value:function(){var t=this.props,e=t.bar,n=t.id,a=x(e,4);return r.a.createElement("div",{className:"".concat(F.a.xbar," ").concat(F.a[n]),key:n},a.map(function(t,e){return r.a.createElement("div",{className:F.a.group,key:"group-".concat(e)},t.map(function(t){return r.a.createElement(X,{id:t.id,key:"slot-".concat(t.id),action:t.action,xbar:n})}))}))}}]),e}(a.Component);function L(t){return t.titleize()}String.prototype.titleize=function(){var t=this.split(" ");return(t=t.map(function(t){return t.capitalize()})).join(" ")},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var U=n(114),M=n.n(U),P=function(t){function e(){return Object(j.a)(this,e),Object(O.a)(this,Object(g.a)(e).apply(this,arguments))}return Object(E.a)(e,t),Object(y.a)(e,[{key:"render",value:function(){var t=this.props,e=t.jobs,n=t.updateJob,a=[];e&&(a=e.map(function(t){return r.a.createElement("option",{key:"job-".concat(t.ID),value:t.ID},L(t.Name))}));var c=r.a.createElement("div",{className:M.a.jobSelectWrapper},r.a.createElement("select",{name:"jobSelect",id:"jobSelect",className:M.a.jobSelect,onChange:function(t){return n(t.currentTarget.value)}},a));return r.a.createElement(r.a.Fragment,null,c)}}]),e}(a.PureComponent),R=n(66),B=n.n(R),W=function(t){function e(t){var n;return Object(j.a)(this,e),(n=Object(O.a)(this,Object(g.a)(e).call(this,t))).api=new A.a,window.api=n.api,n.state={jobs:[],actions:[],selectedJob:{}},n}return Object(E.a)(e,t),Object(y.a)(e,[{key:"componentDidMount",value:function(){this.fetchJobsList()}},{key:"updateJob",value:function(t){var e=this,n=this.state.jobs.find(function(e){return parseInt(e.ID,10)===parseInt(t,10)});this.setState({selectedJob:n},function(){e.fetchActions()})}},{key:"fetchJobsList",value:function(){var t=Object(v.a)(h.a.mark(function t(){var e,n,a=this;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.data.list("ClassJob");case 2:return e=t.sent,t.next=5,e.Results;case 5:e=(e=t.sent).sort(N("Name")),n=e[0],this.setState({jobs:e,selectedJob:n},function(){return a.fetchActions()});case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"fetchActions",value:function(){var t=Object(v.a)(h.a.mark(function t(){var e,n;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state.selectedJob,t.next=3,this.api.search("",{filters:"ClassJob.ID=".concat(e.ID)});case 3:return n=t.sent,t.next=6,n.Results;case 6:n=(n=t.sent).filter(function(t){return"Action"===t.UrlType}),this.setState({actions:n});case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props.bars,n=this.state,a=n.jobs,c=n.actions,o=c.map(function(e){return r.a.createElement("li",{key:"action-".concat(e.ID)},r.a.createElement(D,{action:e,dragged:function(e){t.handleDrag(e)}}))});return r.a.createElement("main",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"panel"},r.a.createElement("h1",null,"XIV Bars"),r.a.createElement("p",null,"A Final Fantasy XIV Crossbar Simulation Tool."),r.a.createElement("p",null,"Simulate what your crossbar actions could look like when playing Final Fantasy XIV with a gamepad or controller. Use the Class selector to load actions for that class."),r.a.createElement("div",{className:B.a.xbarGroup},Object.keys(e).map(function(t){return r.a.createElement(V,{key:t,id:t,bar:e[t]})}))),r.a.createElement("div",{className:B.a.panel},r.a.createElement("div",{className:"content-layout content-middle"},r.a.createElement("div",{className:"content-left"},r.a.createElement("h2",null,"Class")),r.a.createElement("div",{className:"content-main"},r.a.createElement(P,{jobs:a,updateJob:function(e){return t.updateJob(e)}}))),r.a.createElement("ul",{className:B.a.listActions},c&&o))),r.a.createElement("div",{className:"".concat(B.a.info," container")},r.a.createElement("p",null,"This app uses ",r.a.createElement("a",{href:"https://xivapi.com/"},"XIVAPI")),r.a.createElement("p",null,"All Final Fantasy XIV content is property of Square Enix Co., LTD")))}}]),e}(a.Component),z=Object(i.b)(function(t){return{bars:t.bars}})(W);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=Object(s.b)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selectedAction:null,bars:{primary:p(),secondary:p(),tertiary:p()}},e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.payload;switch(n){case b:var r=t.bars[a.xbar],c=Number.parseInt(a.event.currentTarget.getAttribute("id"),10);return r.find(function(t){return t.id===c}).action=a.action,Object.assign({},t,Object(u.a)({},t,{bars:Object(u.a)({},t.bars,Object(l.a)({},a.xbar,r)),selectedAction:{}}));case f:return Object.assign({},t,Object(u.a)({},t,{payload:a}));case m:return Object.assign({},t,Object(u.a)({},t,{selectedAction:a.selectedAction}));default:return t}});window.store=q,o.a.render(r.a.createElement(i.a,{store:q},r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},65:function(t,e,n){t.exports={action:"Action-action-1lL1n",tooltip:"Action-tooltip-I92Rf",title:"Action-title-2cuRO",description:"Action-description-3D3Vm"}},66:function(t,e,n){t.exports={panel:"src-panel-22bBc","list-actions":"src-list-actions-2Uwjp",listActions:"src-list-actions-2Uwjp",info:"src-info-1fe6w",xbarGroup:"src-xbarGroup-3v6pY"}},83:function(t,e,n){t.exports={xbar:"Xbar-xbar-2Zqob",group:"Xbar-group-2P2qF",primary:"Xbar-primary-1iZTX",secondary:"Xbar-secondary-2H4Iw",tertiary:"Xbar-tertiary-17ijU"}}},[[189,1,2]]]);
//# sourceMappingURL=main.f6a45333.chunk.js.map