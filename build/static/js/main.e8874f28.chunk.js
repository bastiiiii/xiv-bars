(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(t,e,n){t.exports={action:"Action-action-1lL1n",tooltip:"Action-tooltip-I92Rf"}},110:function(t,e,n){t.exports={slot:"Slot-slot-303iz"}},111:function(t,e,n){t.exports={xbar:"Xbar-xbar-2Zqob",group:"Xbar-group-2P2qF"}},112:function(t,e,n){t.exports={"job-select-wrapper":"JobSelect-job-select-wrapper-1BgMs",jobSelectWrapper:"JobSelect-job-select-wrapper-1BgMs","job-select":"JobSelect-job-select-3tWCV",jobSelect:"JobSelect-job-select-3tWCV"}},113:function(t,e,n){t.exports={"list-actions":"src-list-actions-2Uwjp",listActions:"src-list-actions-2Uwjp"}},188:function(t,e,n){t.exports=n(439)},197:function(t,e,n){},229:function(t,e){},231:function(t,e){},263:function(t,e){},264:function(t,e){},333:function(t,e){},439:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(75),o=n.n(c),i=n(34),s=n(76),u=n(77),l=function(){for(var t=[],e=16;e>=1;e-=1)t.push({id:e,action:{}});return t},p="ADD_ACTION_TO_SLOT",b="REMOVE_ACTION_FROM_SLOT",f="STORE_ACTION",d=(n(197),n(62)),m=n.n(d),h=n(108),v=n(21),j=n(22),O=n(24),y=n(23),g=n(25),E=n(187),A=n.n(E),w=function(t,e){return[].concat.apply([],t.map(function(n,a){return a%e?[]:[t.slice(a,a+e)]}))};var k=n(109),S=n.n(k);var N=function(t){function e(){return Object(v.a)(this,e),Object(O.a)(this,Object(y.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(j.a)(e,[{key:"render",value:function(){var t=this,e=this.props.action;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:S.a.action,draggable:!0,onDragStart:function(){var n;n=e,t.props.storeAction({selectedAction:n})}},r.a.createElement("img",{src:e.Icon,alt:""})),r.a.createElement("div",{className:S.a.tooltip},r.a.createElement("b",null,e.Name)))}}]),e}(a.PureComponent),J=Object(i.b)(null,function(t){return{storeAction:function(e){return t({type:f,payload:e})}}})(N),D=n(110),x=n.n(D);var C=function(t){function e(){return Object(v.a)(this,e),Object(O.a)(this,Object(y.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(j.a)(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.id,a=e.action,c=e.selectedAction,o=function(t){return t.currentTarget.setAttribute("data-state","inactive")};return r.a.createElement("div",{id:n,className:"".concat(x.a.slot," ").concat(x.a[n]),onDrop:function(e){return function(e){e.preventDefault(),t.props.addActionToSlot({event:e,action:c}),o(e)}(e)},onDragOver:function(t){return function(t){t.preventDefault(),t.currentTarget.setAttribute("data-state","active")}(t)},onDragLeave:function(t){return o(t)},role:"button"},a&&r.a.createElement(J,{action:a}))}}]),e}(a.PureComponent),I=Object(i.b)(function(t){return{selectedAction:t.selectedAction}},function(t){return{addActionToSlot:function(e){return t({type:p,payload:e})}}})(C);C.defaultProps={action:{},selectedAction:{}};var T=n(111),_=n.n(T),L=function(t){function e(){return Object(v.a)(this,e),Object(O.a)(this,Object(y.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(j.a)(e,[{key:"render",value:function(){var t=this.props,e=t.bar,n=t.id,a=w(e,4);return r.a.createElement("div",{className:_.a.xbar,key:n},a.map(function(t,e){return r.a.createElement("div",{className:_.a.group,key:"group-".concat(e)},t.map(function(t){return r.a.createElement(I,{id:t.id,key:"slot-".concat(t.id),action:t.action})}))}))}}]),e}(a.Component);function R(t){return t.titleize()}String.prototype.titleize=function(){var t=this.split(" ");return(t=t.map(function(t){return t.capitalize()})).join(" ")},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var W=n(112),z=n.n(W),M=function(t){function e(){return Object(v.a)(this,e),Object(O.a)(this,Object(y.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(j.a)(e,[{key:"render",value:function(){var t=this.props,e=t.jobs,n=t.updateJob,a=[];e&&(a=e.map(function(t){return r.a.createElement("option",{key:"job-".concat(t.ID),value:t.ID},R(t.Name))}));var c=r.a.createElement("div",{className:z.a.jobSelectWrapper},r.a.createElement("select",{name:"jobSelect",id:"jobSelect",className:z.a.jobSelect,onChange:function(t){return n(t)}},a));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Job"),c)}}]),e}(a.PureComponent),P=n(113),B=n.n(P),F=function(t){function e(t){var n;Object(v.a)(this,e);return(n=Object(O.a)(this,Object(y.a)(e).call(this,t))).state={api:new A.a({private_key:"deae6fc1037745eaa1c6d891f9d46a14d7e4d96fff484987a9a739d92837e3ff"}),jobs:[],actions:[],selectedJob:{Name:"",ID:1}},n}return Object(g.a)(e,t),Object(j.a)(e,[{key:"componentDidMount",value:function(){this.fetchJobsList(),this.fetchActions()}},{key:"updateJob",value:function(t){var e=this,n=this.state.jobs[t.currentTarget.value-1];this.setState({selectedJob:n},function(){e.fetchActions()})}},{key:"fetchJobsList",value:function(){var t=Object(h.a)(m.a.mark(function t(){var e,n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state.api,t.next=3,e.data.list("ClassJob");case 3:return n=t.sent,t.next=6,n.Results;case 6:n=t.sent,this.setState({jobs:n});case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"fetchActions",value:function(){var t=Object(h.a)(m.a.mark(function t(){var e,n,a,r;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state,n=e.api,a=e.selectedJob,t.next=3,n.search("",{filters:"ClassJob.ID=".concat(a.ID)});case 3:return r=t.sent,t.next=6,r.Results;case 6:r=t.sent,this.setState({actions:r});case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props.bars,n=this.state,a=n.jobs,c=n.actions,o=c.map(function(e){return r.a.createElement("li",{key:"action-".concat(e.ID)},r.a.createElement(J,{action:e,dragged:function(e){t.handleDrag(e)}}))});return r.a.createElement("main",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"panel"},Object.keys(e).map(function(t){return r.a.createElement(L,{key:t,id:t,bar:e[t]})})),r.a.createElement("div",{className:"actions"},r.a.createElement(M,{jobs:a,updateJob:function(e){return t.updateJob(e)}}),r.a.createElement("div",{className:B.a.panel},r.a.createElement("h3",null,"Actions"),r.a.createElement("ul",{className:B.a.listActions},c&&o)))))}}]),e}(a.Component),U=Object(i.b)(function(t){return{bars:t.bars}})(F);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=Object(s.b)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selectedAction:null,bars:{primary:l()}},e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.payload;switch(n){case p:var r=t.bars.primary,c=Number.parseInt(a.event.currentTarget.getAttribute("id"),10);return r.find(function(t){return t.id===c}).action=a.action,Object.assign({},t,Object(u.a)({},t,{bars:{primary:r},selectedAction:{}}));case b:return Object.assign({},t,Object(u.a)({},t,{payload:a}));case f:return Object.assign({},t,Object(u.a)({},t,{selectedAction:a.selectedAction}));default:return t}});window.store=V,o.a.render(r.a.createElement(i.a,{store:V},r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[188,1,2]]]);
//# sourceMappingURL=main.e8874f28.chunk.js.map