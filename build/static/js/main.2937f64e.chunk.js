(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(t,e,n){t.exports={xbar:"Xbar-xbar-2Zqob",group:"Xbar-group-2P2qF"}},113:function(t,e,n){t.exports={"job-select-wrapper":"JobSelect-job-select-wrapper-1BgMs",jobSelectWrapper:"JobSelect-job-select-wrapper-1BgMs","job-select":"JobSelect-job-select-3tWCV",jobSelect:"JobSelect-job-select-3tWCV"}},187:function(t,e,n){t.exports={slot:"Slot-slot-303iz"}},188:function(t,e,n){t.exports=n(438)},228:function(t,e){},230:function(t,e){},262:function(t,e){},263:function(t,e){},332:function(t,e){},438:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(77),o=n.n(c),i=n(34),s=n(78),l=n(81),u=function(){for(var t=[],e=16;e>=1;e-=1)t.push({id:e,action:{}});return t},p="ADD_ACTION_TO_SLOT",b="REMOVE_ACTION_FROM_SLOT",f="STORE_ACTION",m=n(35),d=n.n(m),h=n(62),v=n(21),j=n(22),O=n(24),y=n(23),E=n(25),g=n(79),A=n.n(g),w=function(t,e){return[].concat.apply([],t.map(function(n,a){return a%e?[]:[t.slice(a,a+e)]}))};var S=n(64),k=n.n(S);var N=function(t){function e(t){var n;return Object(v.a)(this,e),(n=Object(O.a)(this,Object(y.a)(e).call(this,t))).api=new A.a,n.state={details:""},n}return Object(E.a)(e,t),Object(j.a)(e,[{key:"getActionDetails",value:function(){var t=Object(h.a)(d.a.mark(function t(){var e,n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.action,t.next=3,this.api.data.get("Action",e.ID);case 3:return n=t.sent,t.next=6,n;case 6:n=t.sent,console.log(n.Description),this.setState({details:n});case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props.action,n=this.state.details;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:k.a.action,draggable:!0,onDragStart:function(){var n;n=e,t.props.storeAction({selectedAction:n})},onMouseOver:function(){t.getActionDetails()}},r.a.createElement("img",{src:e.Icon,alt:""})),r.a.createElement("div",{className:k.a.tooltip},r.a.createElement("h4",{className:k.a.title},e.Name),r.a.createElement("p",{className:k.a.description,dangerouslySetInnerHTML:n?{__html:n.Description.trim()}:{__html:""}})))}}]),e}(a.Component),D=Object(i.b)(null,function(t){return{storeAction:function(e){return t({type:f,payload:e})}}})(N),I=n(187),x=n.n(I);var C=function(t){function e(){return Object(v.a)(this,e),Object(O.a)(this,Object(y.a)(e).apply(this,arguments))}return Object(E.a)(e,t),Object(j.a)(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.id,a=e.action,c=e.selectedAction,o=function(t){return t.currentTarget.setAttribute("data-state","inactive")};return r.a.createElement("div",{id:n,className:"".concat(x.a.slot),onDrop:function(e){return function(e){e.preventDefault(),t.props.addActionToSlot({event:e,action:c}),o(e)}(e)},onDragOver:function(t){return function(t){t.preventDefault(),t.currentTarget.setAttribute("data-state","active")}(t)},onDragLeave:function(t){return o(t)},role:"button"},a.Name&&r.a.createElement(D,{action:a}))}}]),e}(a.PureComponent),T=Object(i.b)(function(t){return{selectedAction:t.selectedAction}},function(t){return{addActionToSlot:function(e){return t({type:p,payload:e})}}})(C);C.defaultProps={action:{},selectedAction:{}};var J=n(112),_=n.n(J),F=function(t){function e(){return Object(v.a)(this,e),Object(O.a)(this,Object(y.a)(e).apply(this,arguments))}return Object(E.a)(e,t),Object(j.a)(e,[{key:"render",value:function(){var t=this.props,e=t.bar,n=t.id,a=w(e,4);return r.a.createElement("div",{className:_.a.xbar,key:n},a.map(function(t,e){return r.a.createElement("div",{className:_.a.group,key:"group-".concat(e)},t.map(function(t){return r.a.createElement(T,{id:t.id,key:"slot-".concat(t.id),action:t.action})}))}))}}]),e}(a.Component);function V(t){return t.titleize()}String.prototype.titleize=function(){var t=this.split(" ");return(t=t.map(function(t){return t.capitalize()})).join(" ")},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var L=n(113),M=n.n(L),R=function(t){function e(){return Object(v.a)(this,e),Object(O.a)(this,Object(y.a)(e).apply(this,arguments))}return Object(E.a)(e,t),Object(j.a)(e,[{key:"render",value:function(){var t=this.props,e=t.jobs,n=t.updateJob,a=[];e&&(a=e.map(function(t){return r.a.createElement("option",{key:"job-".concat(t.ID),value:t.ID},V(t.Name))}));var c=r.a.createElement("div",{className:M.a.jobSelectWrapper},r.a.createElement("select",{name:"jobSelect",id:"jobSelect",className:M.a.jobSelect,onChange:function(t){return n(t)}},a));return r.a.createElement(r.a.Fragment,null,c)}}]),e}(a.PureComponent),X=n(80),B=n.n(X),W=function(t){function e(t){var n;return Object(v.a)(this,e),(n=Object(O.a)(this,Object(y.a)(e).call(this,t))).api=new A.a,window.api=n.api,n.state={jobs:[],actions:[],selectedJob:{Name:"",ID:1}},n}return Object(E.a)(e,t),Object(j.a)(e,[{key:"componentDidMount",value:function(){this.fetchJobsList(),this.fetchActions()}},{key:"updateJob",value:function(t){var e=this,n=this.state.jobs[t.currentTarget.value-1];this.setState({selectedJob:n},function(){e.fetchActions()})}},{key:"fetchJobsList",value:function(){var t=Object(h.a)(d.a.mark(function t(){var e;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.data.list("ClassJob");case 2:return e=t.sent,t.next=5,e.Results;case 5:e=t.sent,this.setState({jobs:e});case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"fetchActions",value:function(){var t=Object(h.a)(d.a.mark(function t(){var e,n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state.selectedJob,t.next=3,this.api.search("",{filters:"ClassJob.ID=".concat(e.ID)});case 3:return n=t.sent,t.next=6,n.Results;case 6:n=(n=t.sent).filter(function(t){return"Action"===t.UrlType}),this.setState({actions:n});case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props.bars,n=this.state,a=n.jobs,c=n.actions,o=c.map(function(e){return r.a.createElement("li",{key:"action-".concat(e.ID)},r.a.createElement(D,{action:e,dragged:function(e){t.handleDrag(e)}}))});return r.a.createElement("main",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"panel"},r.a.createElement("h1",null,"XIV Bars"),r.a.createElement("p",null,"A Final Fantasy XIV Crossbar Simulation Tool."),r.a.createElement("p",null,"Simulate what your crossbar actions could look like when playing Final Fantasy XIV with a gamepad or controller. Use the Class selector to load actions for that class."),Object.keys(e).map(function(t){return r.a.createElement(F,{key:t,id:t,bar:e[t]})})),r.a.createElement("div",{className:B.a.panel},r.a.createElement("div",{className:"content-layout content-middle"},r.a.createElement("div",{className:"content-left"},r.a.createElement("h2",null,"Class")),r.a.createElement("div",{className:"content-main"},r.a.createElement(R,{jobs:a,updateJob:function(e){return t.updateJob(e)}}))),r.a.createElement("ul",{className:B.a.listActions},c&&o))),r.a.createElement("div",{className:"".concat(B.a.info," container")},r.a.createElement("p",null,"This app uses ",r.a.createElement("a",{href:"https://xivapi.com/"},"XIVAPI")),r.a.createElement("p",null,"All Final Fantasy XIV content is property of Square Enix Co., LTD")))}}]),e}(a.Component),z=Object(i.b)(function(t){return{bars:t.bars}})(W);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=Object(s.b)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selectedAction:null,bars:{primary:u()}},e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.payload;switch(n){case p:var r=t.bars.primary,c=Number.parseInt(a.event.currentTarget.getAttribute("id"),10);return r.find(function(t){return t.id===c}).action=a.action,Object.assign({},t,Object(l.a)({},t,{bars:{primary:r},selectedAction:{}}));case b:return Object.assign({},t,Object(l.a)({},t,{payload:a}));case f:return Object.assign({},t,Object(l.a)({},t,{selectedAction:a.selectedAction}));default:return t}});window.store=P,o.a.render(r.a.createElement(i.a,{store:P},r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},64:function(t,e,n){t.exports={action:"Action-action-1lL1n",tooltip:"Action-tooltip-I92Rf",title:"Action-title-2cuRO",description:"Action-description-3D3Vm"}},80:function(t,e,n){t.exports={panel:"src-panel-22bBc","list-actions":"src-list-actions-2Uwjp",listActions:"src-list-actions-2Uwjp",info:"src-info-1fe6w"}}},[[188,1,2]]]);
//# sourceMappingURL=main.2937f64e.chunk.js.map